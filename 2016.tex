% 2016 KTS
%

\documentclass{beamer}

\usetheme{metropolis} 
\usefonttheme[onlymath]{serif}
\usepackage[hangul]{kotex}
\usepackage{mathtools}
\usepackage{booktabs}
\usepackage{hologo}

\hypersetup{pdfencoding=auto}

\def\luatex{\hologo{LuaTeX}}
\def\lualatex{\hologo{LuaLaTeX}}
\def\logoko{\textsf{k}\kern-.0625em\textit{o}}
\def\luatexko{\luatex-\logoko}


% continued fraction
\makeatletter
\def\ltcfrac[#1;#2]{\cfr@c#1,#2,\ldots,\end}
\def\cfr@c#1,#2\end{\ifx#1\ldots\ddots\else#1\fi
  \ifx#2\end\else+{\strut1\hfill\over\displaystyle\cfr@c#2\end}\fi}
\makeatother

% for alphametics
\directlua{dofile("puzzle.lua")}
\newcommand{\alphametics}[2][v]{\directlua{puzzle('#1','#2')}}

%
\title{루아텍 활용}
\subtitle{루아 프로그래밍 중심으로}
\author{남수진}
\date{\today}
\institute{
  2016 한국텍학회 학술대회 및 정기총회 \\
  고려대학교 하나과학관 206호}


%%
\begin{document}

% 제목
\begin{frame}
  \titlepage
\end{frame}

% 차례
\begin{frame}[t]
  \frametitle{차례}
  \tableofcontents
\end{frame}

%%
\section{Lua 프로그래밍 언어}

%
\begin{frame}
  \frametitle{Lua}
  \begin{itemize}
  \item 루아 프로그래밍 언어, \url{http://www.lua.org}
  \item 1993년, 호베르투 이에루잘림스시의 의해서 개발
  \item 기존 응용프로그램을 확장하는 목적으로 개발
  \item 속도, 이식성, 확장성, 개발 편의성에 중점
  \item 단순하다. 강력하다. 배우기 쉽다.
  \item 현재 버전 5.3.2
  \end{itemize}
\end{frame}

%
\begin{frame}[fragile]
  \frametitle{Lua}
  \small
  \begin{verbatim}
-- greatest common divisor  
function gcd (m, n)
   while m ~= n do
      m, n = math.mod(n,m), m
   end
   return n
end

print(gcd(3, 5))    -- 1
print(gcd(24, 36))  -- 12
print(gcd(56, 63))  -- 7
print(gcd(105, 70)) -- 35
  \end{verbatim}
\end{frame}

%%
\section{\luatex}

%
\begin{frame}
  \frametitle{\luatex}
  \begin{itemize}
  \item \luatex 은 Lua 언어를 내장한 \hologo{pdfTeX}의 확장판이다.
  \item \TeX\ 고유의 기능을 유지하고, 루아를 통하여 \TeX\ 내부의 깊은 부분도
    건드릴 수 있다.
  \item 다양한 루아 라이브러리를 제공
  \item \TeX을 만드는데 사용된 \texttt{WEB} 이나 C 언어
    보다 상대적으로 쉬운 스크립트 언어인 루아를 이용하여
    \TeX\ 엔진까지 쉽게 건드릴 수 있다.
  \item mplib 과 같은 새로운 기능 추가도 가능하다.
  \item 현재 버전\\
    {\small\texttt{Version beta-0.80.0 (TeX Live 2015) (rev 5238)}}
  \end{itemize}
\end{frame}

%
\begin{frame}
  \frametitle{\luatex 의 전형적인 사용례}
  \begin{itemize}
  \item \luatexko\\ \url{https://github.com/dohyunkim/luatexko}
  \item luamplib\\ \url{https://github.com/lualatex/luamplib}
  \end{itemize}
\end{frame}

%
\begin{frame}
  \frametitle{\luatex 의 무궁무진한 가능성}
  Lua가 프로그래밍 언어라는 사실을 상기하면,
  \TeX 만으로는 불가능했거나 어려웠던, 
  \begin{itemize}
  \item 데이타베이스와의 연동 
  \item 네트웍 관련 프로그래밍
  \end{itemize}
  등 모든 프로그램적 요소들이 가능하다.
\end{frame}

%
\begin{frame}
  \frametitle{\luatex\ 관련 필독}
  \begin{itemize}
    \setlength\itemsep{1em}
  \item \luatex\ Reference, \texttt{texdoc luatexref-t.pdf}
  \item A guide to \lualatex, \texttt{texdoc lualatex-doc.pdf}
  \item The \texttt{luacode} package, \texttt{texdoc luacode.pdf}
  \item \luatexko\ 간단 메뉴얼, \texttt{texdoc luatexko-doc.pdf}
  \end{itemize}
\end{frame}

%
\begin{frame}[fragile]
  \frametitle{\luatex}
  \begin{itemize}
    \item \texttt{\string\directlua\{<lua code>\}}
    \item \texttt{\string\usepackage\{luacode\}}
      \begin{itemize}
      \item \texttt{\string\luadirect}
      \item \texttt{\string\luaexec}
      \item \texttt{luacode(*)} 환경
      \end{itemize}
  \end{itemize}
  입력:\\
  \vspace{-3mm}
    \begin{verbatim}
the standard approximation 
$\pi = \directlua{tex.sprint(math.pi)}$
    \end{verbatim}
    \vspace{-5mm}
    결과:\\    
    the standard approximation
    $\pi = \directlua{tex.sprint(math.pi)}$
\end{frame}

%%
\section{외환 비율표 만들기}

%
\begin{frame}
  \frametitle{\texttt{Fixer.io}}
  \begin{itemize}
  \item \url{http://fixer.io}
  \item \url{http://api.fixer.io/latest}
  \item \url{http://api.fixer.io/2015-01-30}
  \item \url{http://api.fixer.io/latest?base=USD}
  \item \url{http://api.fixer.io/2015-01-30?base=USD}
  \end{itemize}
\end{frame}

%
\section*{시연}

%%
\section{연분수 순환 주기 구하기}

%
\begin{frame}
  \frametitle{연분수 조판}
  \begin{itemize}
    \setlength\itemsep{1em}
  \item 연분수 자동 조판, \url{http://kko.to/vdP6vr99m}
  \item 연분수 조판 소개, \url{http://kko.to/vdPpkDab6}
  \item 연분수 조판 2탄, \url{http://kko.to/vdPkUFe7u}
  \item 연분수 조판 시리즈 마지막, \url{http://kko.to/vdPu5q8AE}
  \end{itemize}
\end{frame}

%
\begin{frame}
  \frametitle{연분수 순환 주기 (Periodic continued fraction)}
  \url{http://kko.to/viBhWcdig}

  \vspace{-5mm}
  \begin{align*}
    \sqrt{2}&=\ltcfrac[1;2,2] =[1;\overline{2}] \\
    \sqrt{3}&=\ltcfrac[1;1,2] =[1;\overline{1,2}]
  \end{align*}
\end{frame}

%
\section*{시연}

%%
\section{복면산 (Alphametics)}

%
\begin{frame}
  \frametitle{복면산}
  {\LARGE
  \[
  \def\arraystretch{0.7}
  \begin{array}{c@{\,}r}
    & \texttt{SEND} \\
    + & \texttt{MORE} \\
    \cmidrule(lr){1-2}
    & \texttt{MONEY}
  \end{array}
  \quad
  \def\arraystretch{0.7}
  \begin{array}{c@{\,}r}
    & \texttt{BATMAN} \\
    + & \texttt{GOTHAM} \\
    \cmidrule(lr){1-2}
    & \texttt{NIGHTS}
  \end{array}
  \quad
  \begin{array}{c@{\,}r}
    & \texttt{ZEROS} \\
    + & \texttt{ONES} \\
    \cmidrule(lr){1-2}
    & \texttt{BINARY}
  \end{array}
  \]
  }
  \vspace{5mm}
  {\Large
    \[ \texttt{VIOLIN}+\texttt{VIOLIN}+\texttt{VIOLA}%
    =\texttt{TRIO}+\texttt{SONATA} \]
  }
\end{frame}

%
\begin{frame}
  \frametitle{복면산}
  \[
  \def\arraystretch{0.7}
  \begin{array}{c@{\,}r}
    & \texttt{INTO} \\
    & \texttt{ONTO} \\
    & \texttt{CANON} \\
    & \texttt{INTACT} \\
    & \texttt{AMMONIA} \\
    & \texttt{OMISSION} \\
    & \texttt{DIACRITIC} \\
    & \texttt{STATISTICS} \\
    & \texttt{ASSOCIATION} \\
    & \texttt{ANTIMACASSAR} \\
    & \texttt{CONTORTIONIST} \\
    & \texttt{NONDISCRIMINATION} \\
    + & \texttt{CONTRADISTINCTION} \\
    \cmidrule(lr){1-2}
    & \texttt{MISADMINISTRATION}
  \end{array}
  \]
\end{frame}

%
\begin{frame}
  \frametitle{복면산}
  \def\arraystretch{0.7}
  \alphametics{INTO+ONTO+CANON+INTACT+AMMONIA+OMISSION+DIACRITIC%
    +STATISTICS+ASSOCIATION+ANTIMACASSAR+CONTORTIONIST+NONDISCRIMINATION%
    +CONTRADISTINCTION= MISADMINISTRATION}
\end{frame}

%
\begin{frame}[fragile]
  \frametitle{복면산}
  \Large
\begin{verbatim}
  \alphametics{INTO+ONTO+CANON%
    +INTACT+AMMONIA+OMISSION%
    +DIACRITIC+STATISTICS%
    +ASSOCIATION+ANTIMACASSAR%
    +CONTORTIONIST%
    +NONDISCRIMINATION%
    +CONTRADISTINCTION%
    =MISADMINISTRATION}
\end{verbatim}
\end{frame}

%
\begin{frame}
  \frametitle{복면산}
  \Large
  \alphametics[h]{VIOLIN+VIOLIN+VIOLA=TRIO+SONATA}
\end{frame}

%
\begin{frame}[fragile]
  \frametitle{복면산}
  \Large
\begin{verbatim}
  \alphametics[h]{VIOLIN+VIOLIN%
    +VIOLA=TRIO+SONATA}
\end{verbatim}
\end{frame}

%
\section*{시연}

%
\begin{frame}
  \Huge
  \centering \textbf{¿Tienes alguna pregunta?}
\end{frame}

%
\begin{frame}
  \Huge
  \centering \textbf{Gracias.}
\end{frame}

\end{document}

