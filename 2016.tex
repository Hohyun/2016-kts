% 2016 KTS
%

\documentclass{beamer}

\usetheme{metropolis} 
\usefonttheme[onlymath]{serif}

\usepackage[hangul]{kotex}
\usepackage{mathtools,booktabs}
\usepackage{fancyvrb}
\usepackage{hyperref}
\usepackage{hologo}

\def\luatex{\hologo{LuaTeX}}
\def\logoko{\textsf{k}\kern-.0625em\textit{o}}
\def\luatexko{\luatex-\logoko}

%\addtobeamertemplate{frametitle}{\vspace*{0mm}}{\vspace*{-5mm}}

%
\makeatletter
\def\ltcfrac[#1;#2]{\cfr@c#1,#2,\end}
\def\cfr@c#1,#2\end{\ifx#1\ldots\ddots\else#1\fi
  \ifx#2\end\else+{\strut1\hfill\over\displaystyle\cfr@c#2\end}\fi}
\makeatother

% for alphametics
\directlua{dofile("puzzle.lua")}
\newcommand{\alphametics}[2][v]{\directlua{puzzle('#1','#2')}}

%
\title{루아텍 활용}
\subtitle{루아 프로그래밍 중심으로}
\author{남수진}
\date{\today}
\institute{
  2016 한국텍학회 학술대회 및 정기총회 \\
  고려대학교 하나과학관 206호}


%%
\begin{document}

% 제목
\begin{frame}
  \titlepage
\end{frame}

% 차례
\begin{frame}[t]
  \frametitle{차례}
  \tableofcontents
\end{frame}

%%
\section{Lua 프로그래밍 언어}

\begin{frame}
  \frametitle{Lua}
  \begin{itemize}
  \item 루아 프로그래밍 언어 \url{http://www.lua.org}
  \item 1993년에 브라질 리우 데자네이로, 교황청 대학교의
    호베르투 이에루잘림스시의 의해서 개발
  \item 기존 응용프로그램을 확장하는 목적으로 개발
  \item 속도, 이식성, 확장성, 개발 편의성에 중점
  \item 기본 데이터형과 테이블
  \item 단순하다. 배우기 쉽다. 강력하다.
  \item 현재 버전 5.3.2
  \end{itemize}
\end{frame}

%%
\section{\luatex}

\begin{frame}
  \frametitle{Lua\TeX\ Reference}
  \begin{itemize}
  \item Basic \TeX\ enhancements
  \item Lua general
  \item Lua\TeX\ Lua Libraries
  \item Math
  \item Languages and characters, font and glyphs
  \item Font structure
  \item Nodes
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Lua\TeX\ 라이브러리}
  \vspace{-3mm}
  \begin{itemize}
  \item callback library
  \item epdf library
  \item font library, fontloader library
  \item img library
  \item kpse library
  \item lang library
  \item lua library
  \item mplib library
  \item node library
  \item pdf library, pdfscanner library
  \item status library
  \item tex library, texio library, token library
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Lua\TeX의 전형적인 사용례}
  \begin{itemize}
  \item \luatexko\\ \url{https://github.com/dohyunkim/luatexko}
  \item luamplib\\ \url{https://github.com/lualatex/luamplib}
  \end{itemize}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Lua\TeX\ 관련 필독}
  \begin{itemize}
  \item \texttt{texdoc luatexref-t.pdf}
  \item \texttt{texdoc lualatex-doc.pdf}
  \end{itemize}
\end{frame}

\begin{frame}[fragile]
  \[\texttt{\string\directlua\{<lua code>\}}\]
  \frametitle{\TeX\ 안의 Lua}
  입력:
\begin{verbatim}
  the standard approximation 
  $\pi = \directlua{tex.sprint(math.pi)}$
\end{verbatim}
결과:
\begin{center}
  the standard approximation $\pi = \directlua{tex.sprint(math.pi)}$
\end{center}
\end{frame}

\begin{frame}
  \frametitle{\texttt{\string\directlua}의 문제점}
\end{frame}

\begin{frame}
  \frametitle{luacode 패키지}
  \begin{itemize}
  \item \texttt{\string\usepackage\{luacode\}}
  \item \texttt{\string\luaexec}
  \item \texttt{luacode(*)} 환경
  \end{itemize}
\end{frame}

%%
\section{연분수 순환 주기}

\begin{frame}
  \frametitle{연분수 조판}
  \begin{itemize}
  \item 연분수 자동 조판 \url{http://kko.to/vdP6vr99m}
  \item 연분수 조판 소개 \url{http://kko.to/vdPpkDab6}
  \item 연분수 조판 2탄 \url{http://kko.to/vdPkUFe7u}
  \item 연분수 조판 시리즈 마지막 \url{http://kko.to/vdPu5q8AE}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{연분수 순환 주기}
  \[ \sqrt{13}=\ltcfrac[3;1,1,1,1,6,\ldots] =[3;\overline{1,1,1,1,6}] \]
     {\footnotesize
       \url{http://mathworld.wolfram.com/PeriodicContinuedFraction.html}}
\end{frame}

%
\section{시연}

% pcf.lua 코드 시연
% wolfram alpha와 비교
% https://www.codecogs.com/latex/eqneditor.php

%%
\section{복면산 (Alphametics)}

\begin{frame}
  \frametitle{복면산}
  \begin{itemize}
  \item Alphametics, 1955년 A. H. Hunter에 의해서 이름 붙여짐.
  \item 1927년 H. E. Dudeney 의 명작
  \end{itemize}
  \vspace{5mm}
         {\Huge
           \[
           \def\arraystretch{0.7}
           \begin{array}{c@{\,}r}
             & \texttt{SEND} \\
             + & \texttt{MORE} \\
             \cmidrule(lr){1-2}
             & \texttt{MONEY}
           \end{array}
           \]
         }
\end{frame}

\begin{frame}
  \frametitle{복면산}
             {\Huge
               \def\arraystretch{0.7}
               \alphametics[v]{SEND+MORE = MONEY}}
\end{frame}

\begin{frame}
  \frametitle{복면산}
  \[
  \def\arraystretch{0.7}
  \begin{array}{c@{\,}r}
    & \texttt{INTO} \\
    & \texttt{ONTO} \\
    & \texttt{CANON} \\
    & \texttt{INTACT} \\
    & \texttt{AMMONIA} \\
    & \texttt{OMISSION} \\
    & \texttt{DIACRITIC} \\
    & \texttt{STATISTICS} \\
    & \texttt{ASSOCIATION} \\
    & \texttt{ANTIMACASSAR} \\
    & \texttt{CONTORTIONIST} \\
    & \texttt{NONDISCRIMINATION} \\
    + & \texttt{CONTRADISTINCTION} \\
    \cmidrule(lr){1-2}
    & \texttt{MISADMINISTRATION}
  \end{array}
  \]
\end{frame}

%
\begin{frame}
  \frametitle{복면산}
  \def\arraystretch{0.7}
  \alphametics{INTO+ONTO+CANON+INTACT+AMMONIA+OMISSION+DIACRITIC%
    +STATISTICS+ASSOCIATION+ANTIMACASSAR+CONTORTIONIST+NONDISCRIMINATION%
    +CONTRADISTINCTION= MISADMINISTRATION}
\end{frame}

%
\begin{frame}[fragile]
  \frametitle{복면산}
  \footnotesize
\begin{verbatim}
  \alphametics{INTO+ONTO+CANON+INTACT+AMMONIA%
    +OMISSION+DIACRITIC+STATISTICS+ASSOCIATION%
    +ANTIMACASSAR+CONTORTIONIST+NONDISCRIMINATION%
    +CONTRADISTINCTION=MISADMINISTRATION}
\end{verbatim}
\end{frame}

%
\section{시연}

%
\begin{frame}
  \huge
  \begin{center}
    \textbf{¿Tienes alguna pregunta?}
  \end{center}
\end{frame}

%
\begin{frame}
  \huge
  \centering \textbf{Gracias.}
\end{frame}

\end{document}

